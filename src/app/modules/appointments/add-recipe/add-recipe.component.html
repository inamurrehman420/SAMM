<div class="container  mt-3">
    <div class="row">
        <div class="col-lg-12">
            <h3 class="text-primary mt-3 fw-bold text-xl"> {{Title}}</h3>
        </div>
        <!-- <div class="col-lg-6 text-right">
            <button  mat-button (click)="onClose(false)">
                <mat-icon class="mx-0">clear</mat-icon>
            </button>
        </div> -->
    </div>
</div>

<div class="container px-3 pb-3 pt-2 bg-white rounded shadow">
    <div
            class="mt-6"
            [formGroup]="recipeForm">

        <div class="row px-1 ">
            <!-- <div class="col-lg-3 grid align-items-center text-center  justify-items-center">
                <div *ngIf="avatarURL" class="position-relative ">
                    <img class="mx-auto border-4  border-b-gray-800 rounded-circle" [src]="avatarURL"  >
                    <button style="top: 23px;right: 26px;" class="position-absolute text-primary bg-white rounded shadow" mat-button (click)="removeImg()"><mat-icon >cancel</mat-icon>
                     </button>
                </div>
                <input #file type="file" accept='image/*' [hidden]="true" (change)="onFileChange($event)" formControlName="profile_picture"/>
                <button mat-raised-button color="primary" material-icons (mousedown)="file.click();" *ngIf="!avatarURL"><mat-icon class="text-white me-3">image</mat-icon>Upload Image</button>
            </div> -->
            <div class="col-lg-12">
                <div class="row mb-3">

                    <div class="col-lg-6">
                        <mat-form-field class="w-100">
                            <mat-label>Recipe Name</mat-label>
                            <input
                                    matInput
                                    placeholder="Enter Name"
                                    [formControlName]="'recipe_name'"
                                    required>
                            <mat-error>Recipe Name is Required</mat-error>
                        </mat-form-field>
                    </div>

                    <!-- <div class="col-lg-6">
                        <mat-form-field class="w-100">
                            <mat-label>Email</mat-label>
                            <input
                                    matInput
                                    placeholder="Enter Email"
                                    [formControlName]="'email'"
                                    required>
                            <mat-error>Email is Required</mat-error>
                        </mat-form-field>

                    </div> -->
                </div>


                <div class="row  mb-3">
                    <div class="col-lg-12">
                        <mat-form-field class="w-100">
                            <mat-label>Description</mat-label>
                            <textarea matInput
                                      placeholder="Enter description"
                                      [formControlName]="'recipe_description'"
                                      required
                            >
                                </textarea>
                            <mat-error>Description is Required</mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="row px-1 ">
        <div class="col-lg-12">

        </div>
        <div class="bg-card">
            <div class="w-full mx-auto">
                <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-2 sm:my-4">
                    <div class="flex flex-auto items-center min-w-0 justify-between text-3xl p-3 w-100 bg-gray-100 font-semibold md:text-2xl tracking-tight leading-7 md:leading-snug truncate"
                         style="border-bottom: 2px solid #e48d26">
                        <div
                                class="">
                            <b>Ingrediants:</b>
                        </div>
                        <!--                                        (click)="addProductDetails()"-->
                        <button
                                class="ml-12 rounded bg-green-500 w-32"
                                style=" color: black !important;"
                                mat-stroked-button (click)="addIngrediants()">
                            <mat-icon class="mr-2" style="color: black !important;">add</mat-icon>
                            Add
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div [formGroup]="recipeForm" style="height: 70vh; overflow-y: auto;">
        <div formArrayName="ingrediants">
            <div *ngFor="let employee of ingrediants().controls; let empIndex = index">

                <div class=" shadow rounded border p-3 bg-gray-50 mx-1 mb-3 "
                     [formGroupName]="empIndex">

                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <!--                        <button-->
                            <!--                            class="ml-2  "-->
                            <!--                            style=" color: white !important;"-->
                            <!--                            >-->

                            <!--                        </button>-->
                            <div class="flex justify-between">
                                <h3 class="font-bold text-primary">
                                    {{ empIndex + 1 }}
                                </h3>


                                <mat-icon mat-icon-button (click)="removeIngrediants(empIndex)"
                                          class="text-red-600 text-4xl" style="height: auto; width: auto;">cancel
                                </mat-icon>

                            </div>

                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <mat-form-field class="w-100  title-input" floatLabel="always">
                                <mat-label> Ingrediant Name</mat-label>
                                <input matInput
                                       maxlength="500"
                                       [formControlName]="'ingrediant_name'"
                                       placeholder="Ingrediant Name">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-6">
                            <mat-form-field class="w-100   title-input" floatLabel="always">
                                <mat-label>Type</mat-label>
                                <mat-select matInput
                                            maxlength="500"
                                            [formControlName]="'ingrediant_type'"
                                            placeholder="Type">
                                    <mat-option value="1">
                                      Ingredient
                                    </mat-option>
                                    <mat-option value="2">
                                        Spices
                                    </mat-option>

                                </mat-select>
                            </mat-form-field>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4">
                            <mat-form-field class="w-100  title-input" floatLabel="always">
                                <mat-label>Quantity</mat-label>
                                <input matInput
                                       maxlength="500"
                                       [formControlName]="'ingrediant_sequence'"
                                       placeholder="Quantity">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4">
                            <mat-form-field class="w-100 title-input" floatLabel="always">
                                <mat-label>Cooking Time</mat-label>
                                <input matInput
                                       maxlength="500"
                                       [formControlName]="'ingrediant_cooking_time'"
                                       placeholder="Cooking Time">
                            </mat-form-field>

                        </div>
                        <div class="col-lg-4">
                            <mat-form-field class="w-100  title-input" floatLabel="always">
                                <mat-label> Cooking Speed</mat-label>
                                <mat-select matInput
                                            maxlength="500"
                                            [formControlName]="'ingrediant_steering_type'"
                                            placeholder="Cooking Speed">
                                    <mat-option value="1">
                                        Low
                                    </mat-option>
                                    <mat-option value="2">
                                        Medium
                                    </mat-option>
                                    <mat-option value="3">
                                        High
                                    </mat-option>

                                </mat-select>
                            </mat-form-field>

                        </div>
                    </div>


            </div>
        </div>

    </div>
</div>


<div class="text-right mb-3 mt-4 pt-5 me-3">
    <button mat-raised-button class="mr-3 bg-secondary" (click)="onSubmit()">
        Submit
    </button>
    <!-- <button  mat-raised-button color="primary" (click)="onClose(false)">
        Cancel
    </button> -->

</div>
</div>